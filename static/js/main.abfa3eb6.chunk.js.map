{"version":3,"sources":["components/Startpage.tsx","components/Detailpage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Startpage","useState","animals","setAnimals","ifAnimalsFromLS","localStorage","getItem","useEffect","animalsFromLS","JSON","parse","axios","get","then","response","data","setItem","stringify","getData","liTag","map","animal","name","src","imageUrl","alt","height","shortDescription","to","id","className","varning","moment","lastFed","isBefore","subtract","length","DetailPage","useParams","latinName","yearOfBirth","longDescription","medicine","isFed","setAnimal","i","setVarning","width","onClick","Date","disabled","format","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.abfa3eb6.chunk.js","sourcesContent":["import axios from 'axios';\nimport moment from 'moment';\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Animal } from '../models/Animal';\n\nexport const Startpage = () => {\n  let defaultValue: Animal[] = [];\n  const [animals, setAnimals] = useState(defaultValue);\n  let ifAnimalsFromLS = localStorage.getItem('animals');\n\n  function getData() {\n    if (!ifAnimalsFromLS) {\n      axios\n        .get('https://animals.azurewebsites.net/api/animals')\n        .then((response) => {\n          setAnimals(response.data);\n          localStorage.setItem('animals', JSON.stringify(response.data));\n        });\n    } else {\n      let animalsFromLS = JSON.parse(ifAnimalsFromLS);\n      setAnimals(animalsFromLS);\n    }\n  }\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  let liTag = animals.map((animal) => {\n    return (\n      <li key={animal.id}>\n        <h3>{animal.name}</h3>\n        <img src={animal.imageUrl} alt='' height='100px' />\n        <p>{animal.shortDescription}</p>\n        <Link to={'/animal/' + animal.id} className='showmore'>\n          Visa mer\n        </Link>\n        <hr />\n      </li>\n    );\n  });\n\n  let varning = animals.map((animal) => {\n    if (moment(animal.lastFed).isBefore(moment().subtract(4, 'hours'))) {\n      return (\n        <li key={animal.id}>\n          <h3>{animal.name}</h3>\n          <Link to={'/animal/' + animal.id} className='varningBtn'>\n            Feed me now!\n          </Link>\n        </li>\n      );\n    }\n  });\n\n  return (\n    <>\n      <div className='container'>\n        <div>\n          <ul>{liTag}</ul>\n        </div>\n        <div className='hungry'>\n          {varning.length > 0 ? <h3 className='danger'>Warning</h3> : null}\n          <ul>{varning}</ul>\n        </div>\n      </div>\n    </>\n  );\n};\n","import moment from 'moment';\nimport { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { Animal } from '../models/Animal';\n\ninterface IParams {\n  id: string;\n}\n\nexport const DetailPage = () => {\n  let { id } = useParams<IParams>();\n\n  let defaultValue: Animal = {\n    id: '',\n    name: '',\n    latinName: '',\n    yearOfBirth: '',\n    shortDescription: '',\n    longDescription: '',\n    imageUrl: '',\n    medicine: '',\n    isFed: false,\n    lastFed: '',\n  };\n  const [animal, setAnimal] = useState(defaultValue);\n\n  let animalsFromLS = localStorage.getItem('animals');\n  const [animals, setAnimals] = useState(animalsFromLS);\n\n  useEffect(() => {\n    if (animalsFromLS !== null) {\n      let animals = JSON.parse(animalsFromLS);\n\n      for (let i = 0; i < animals.length; i++) {\n        if (animals[i].id == id) {\n          if (\n            moment(animals[i].lastFed).isBefore(moment().subtract(3, 'hours'))\n          ) {\n            animals[i].isFed = false;\n            localStorage.setItem('animals', JSON.stringify(animals));\n            setAnimals(animals);\n          }\n          setAnimal(animals[i]);\n        }\n      }\n    }\n  }, [id, animalsFromLS]);\n\n  function feedAnimal() {\n    if (animalsFromLS !== null) {\n      let animal = JSON.parse(animalsFromLS);\n      for (let i = 0; i < animal.length; i++) {\n        if (animal[i].id == id) {\n          animal[i].isFed = true;\n          animal[i].lastFed = new Date();\n          localStorage.setItem('animals', JSON.stringify(animal));\n          setAnimal(animal);\n        }\n      }\n    }\n  }\n\n  const [varning, setVarning] = useState('');\n\n  useEffect(() => {\n    if (animalsFromLS !== null) {\n      let animals = JSON.parse(animalsFromLS);\n\n      for (let i = 0; i < animals.length; i++) {\n        if (animals[i].id == id) {\n          if (moment(animal.lastFed).isBefore(moment().subtract(4, 'hours'))) {\n            setVarning('FEED ME NOW');\n          }\n        }\n      }\n    }\n  });\n\n  return (\n    <div className='detail'>\n      <h2>{animal.name}</h2>\n      <img src={animal.imageUrl} alt='' width='200' />\n      <p>\n        <strong>Latin name: </strong> {animal.latinName}\n      </p>\n      <p>\n        <strong>Description: </strong>\n      </p>\n      <p> {animal.longDescription}</p>\n      <p>\n        <strong>Need food? </strong> {animal.isFed ? 'No' : 'Yes'}\n      </p>\n      <button onClick={feedAnimal} disabled={animal.isFed}>\n        Feed me now\n      </button>\n      <h3>{varning}</h3>\n      <p>\n        <strong>Last fed: </strong>\n        {moment(animal.lastFed).format('MMMM Do YYYY, h:mm a')}\n      </p>\n      <Link to='/'>Tillbaka</Link>\n    </div>\n  );\n};\n","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { Startpage } from './components/Startpage';\nimport { DetailPage } from './components/Detailpage';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path='/'>\n          <div className='nav'>\n            <h1>Animals</h1>\n          </div>\n          <Startpage></Startpage>\n        </Route>\n        <Route path='/animal/:id'>\n          <div className='nav'>\n            <h1>Animal details</h1>\n          </div>\n          <DetailPage></DetailPage>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}